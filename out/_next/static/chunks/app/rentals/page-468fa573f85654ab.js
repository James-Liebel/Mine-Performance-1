(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{3222:function(e,t,a){Promise.resolve().then(a.bind(a,5539))},5539:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(7437),s=a(2265),l=a(9376);let r=[{id:"hitting-lab-1",name:"Hitting Lab 1",description:"Dedicated hitting lab with HitTrax / data capture.",rates:[{label:"30 minutes",price:"$45"},{label:"60 minutes",price:"$65"}],openHour:6,closeHour:23},{id:"hitting-lab-2",name:"Hitting Lab 2",description:"Secondary hitting lab with machines and tech support.",rates:[{label:"30 minutes",price:"$45"},{label:"60 minutes",price:"$65"}],openHour:6,closeHour:23},{id:"turf",name:"Turf",description:"Open turf space for fielding work, throwing, and movement.",rates:[{label:"30 minutes",price:"$75"},{label:"60 minutes",price:"$125"}],openHour:6,closeHour:23},{id:"cage-standard",name:"Cage (no HitTrax or TrackMan)",description:"Standard batting cage without HitTrax or TrackMan.",rates:[{label:"30 minutes",price:"$25"},{label:"60 minutes",price:"$45"}],openHour:6,closeHour:23},{id:"pitching-lab",name:"Pitching Lab",description:"Dedicated pitching lab with mounds and tracking tech.",rates:[{label:"30 minutes",price:"$50"},{label:"60 minutes",price:"$75"}],openHour:6,closeHour:23}];var i=a(5850),c=a(7444);let o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e){return e.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}function m(e){return 0===e?"12:00 am":12===e?"12:00 pm":e<12?"".concat(e,":00 am"):"".concat(e-12,":00 pm")}function h(e){let t=new Date;t.setHours(0,0,0,0);let a=new Date(e);return a.setHours(0,0,0,0),a.getTime()<t.getTime()}function b(){var e;let t=(0,l.useRouter)(),{content:a}=(0,c.e)(),b=new Date,[p,x]=(0,s.useState)(()=>new Date(b.getFullYear(),b.getMonth(),1)),[j,f]=(0,s.useState)(()=>new Date),[v,y]=(0,s.useState)(null),g=p.getFullYear(),N=p.getMonth(),w=d[N],k=new Date(g,N,1).getDay(),C=new Date(g,N+1,0).getDate(),_=Array(k).fill(null),D=Array.from({length:C},(e,t)=>t+1),S=e=>!!j&&j.getFullYear()===g&&j.getMonth()===N&&j.getDate()===e,E=e=>b.getFullYear()===g&&b.getMonth()===N&&b.getDate()===e,T=e=>h(new Date(g,N,e)),P=e=>{let t=new Date(g,N,e);h(t)||(f(t),y(null))};return(0,n.jsxs)("div",{className:"page page-rentals",children:[(0,n.jsx)("section",{className:"hero hero-dark hero-compact",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_heading",fallback:"Rentals",as:"span"})}),(0,n.jsx)("p",{className:"hero-subtitle",children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_subtitle",fallback:"Reserve our labs, cages, and turf space for your own training or team sessions.",as:"span"})})]})}),(0,n.jsxs)("div",{className:"container rentals-container",children:[(0,n.jsxs)("nav",{className:"rentals-step-bar","aria-label":"Rental steps",children:[(0,n.jsxs)("div",{className:"rentals-step-bar-item rentals-step-bar-item--active","aria-current":"step",children:[(0,n.jsx)("span",{className:"rentals-step-bar-num",children:"1"}),(0,n.jsx)("span",{children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_choose_date_heading",fallback:"Choose a date",as:"span"})})]}),(0,n.jsxs)("div",{className:"rentals-step-bar-item",children:[(0,n.jsx)("span",{className:"rentals-step-bar-num",children:"2"}),(0,n.jsx)("span",{children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_pick_resource_heading",fallback:"Pick resource & time",as:"span"})})]})]}),(0,n.jsxs)("div",{className:"rentals-two-col",children:[(0,n.jsxs)("section",{className:"rentals-section rentals-col-calendar",children:[(0,n.jsx)("h2",{className:"rentals-section-title",children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_choose_date_heading",fallback:"Choose a date",as:"span"})}),(0,n.jsx)("p",{className:"rentals-section-desc text-muted",children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_choose_date_desc",fallback:"Select a day on the calendar, then pick a resource and time slot below.",as:"span"})}),(0,n.jsxs)("div",{className:"rentals-calendar-card card card-elevated",children:[(0,n.jsxs)("div",{className:"rentals-calendar-header",children:[(0,n.jsxs)("h3",{className:"rentals-calendar-month",children:[w," ",g]}),(0,n.jsxs)("div",{className:"rentals-calendar-nav",children:[(0,n.jsx)("button",{type:"button",className:"rentals-calendar-nav-btn",onClick:()=>x(new Date(g,N-1)),"aria-label":"Previous month",children:"‹"}),(0,n.jsx)("button",{type:"button",className:"rentals-calendar-nav-btn",onClick:()=>{x(new Date(b.getFullYear(),b.getMonth(),1)),f(new Date),y(null)},"aria-label":"Go to current month",children:"Today"}),(0,n.jsx)("button",{type:"button",className:"rentals-calendar-nav-btn",onClick:()=>x(new Date(g,N+1)),"aria-label":"Next month",children:"›"})]})]}),(0,n.jsxs)("div",{className:"rentals-calendar-grid",children:[o.map(e=>(0,n.jsx)("div",{className:"rentals-calendar-dow","aria-hidden":!0,children:e},e)),_.map((e,t)=>(0,n.jsx)("div",{className:"rentals-calendar-day rentals-calendar-day--blank"},"b-".concat(t))),D.map(e=>{let t=T(e),a=S(e),s=E(e);return(0,n.jsx)("button",{type:"button",className:"rentals-calendar-day rentals-calendar-day--clickable ".concat(a?"rentals-calendar-day--selected":""," ").concat(s?"rentals-calendar-day--today":""," ").concat(t?"rentals-calendar-day--past":""),onClick:()=>P(e),disabled:t,"aria-label":t?"Past date":"Select ".concat(w," ").concat(e),"aria-pressed":a,children:e},e)})]}),j&&(0,n.jsxs)("p",{className:"rentals-calendar-selected text-muted","aria-live":"polite",children:["Selected: ",(0,n.jsx)("strong",{children:u(j)})]})]})]}),(0,n.jsxs)("section",{className:"rentals-section rentals-col-resources",children:[(0,n.jsx)("h2",{className:"rentals-section-title",children:(0,n.jsx)(i.EditableContent,{contentKey:"rentals_pick_resource_heading",fallback:"Pick a resource and time",as:"span"})}),(0,n.jsx)("p",{className:"rentals-section-desc text-muted",children:j?(0,n.jsx)(i.EditableContent,{contentKey:"rentals_pick_resource_desc_with_date",fallback:"Available times for {date}. We'll confirm after you submit.",displayValue:(null!==(e=a.rentals_pick_resource_desc_with_date)&&void 0!==e?e:"Available times for {date}. We'll confirm after you submit.").replace("{date}",u(j)),as:"span"}):(0,n.jsx)(i.EditableContent,{contentKey:"rentals_pick_resource_desc_no_date",fallback:"Select a date above first.",as:"span"})}),(0,n.jsxs)("div",{className:"rentals-layout",children:[(0,n.jsx)("div",{className:"rentals-grid",children:r.map(e=>{let t=[];for(let a=e.openHour;a<e.closeHour;a++)t.push(a);return(0,n.jsxs)("article",{className:"rental-card card card-elevated ".concat((null==v?void 0:v.resource.id)===e.id?"rental-card--selected":""),children:[(0,n.jsxs)("div",{className:"rental-card-header",children:[(0,n.jsx)("h3",{className:"rental-card-title",children:e.name}),(0,n.jsx)("p",{className:"rental-card-desc text-muted",children:e.description}),(0,n.jsx)("div",{className:"rental-card-rates",children:e.rates.map(e=>(0,n.jsxs)("span",{className:"rental-rate-badge",children:[e.price," / ",e.label]},e.label))})]}),(0,n.jsxs)("div",{className:"rental-card-slots",children:[(0,n.jsx)("p",{className:"rental-slots-label text-muted",children:"Time slots"}),(0,n.jsx)("div",{className:"rental-slots-grid",children:t.map(t=>{let a=v&&v.resource.id===e.id&&v.hour===t&&j&&v.date.toDateString()===j.toDateString();return(0,n.jsx)("button",{type:"button",className:"rental-slot-btn ".concat(a?"rental-slot-btn--selected":""),onClick:()=>j&&y({resource:e,date:new Date(j),hour:t}),disabled:!j,"aria-pressed":!!a,title:j?"".concat(u(j)," at ").concat(m(t)):"Select a date first",children:m(t)},t)})})]})]},e.id)})}),(0,n.jsxs)("aside",{className:"rentals-sidebar card card-elevated",children:[(0,n.jsx)("h3",{className:"rentals-sidebar-title",children:"Your selection"}),v&&j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"rentals-sidebar-summary",children:[(0,n.jsxs)("div",{className:"rentals-sidebar-row",children:[(0,n.jsx)("span",{className:"text-muted",children:"Resource"}),(0,n.jsx)("strong",{children:v.resource.name})]}),(0,n.jsxs)("div",{className:"rentals-sidebar-row",children:[(0,n.jsx)("span",{className:"text-muted",children:"Date"}),(0,n.jsx)("span",{children:u(v.date)})]}),(0,n.jsxs)("div",{className:"rentals-sidebar-row",children:[(0,n.jsx)("span",{className:"text-muted",children:"Time"}),(0,n.jsx)("span",{children:m(v.hour)})]}),(0,n.jsxs)("div",{className:"rentals-sidebar-row",children:[(0,n.jsx)("span",{className:"text-muted",children:"Rates"}),(0,n.jsx)("span",{className:"rentals-sidebar-rates",children:v.resource.rates.map(e=>"".concat(e.price,"/").concat(e.label)).join(" \xb7 ")})]})]}),(0,n.jsxs)("div",{className:"rentals-sidebar-actions",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-primary rentals-cta",onClick:()=>{if(!v||!j)return;let e=v.date.toISOString().slice(0,10),a="".concat(String(v.hour).padStart(2,"0"),":00");t.push("/contact?resource=".concat(encodeURIComponent(v.resource.id),"&date=").concat(e,"&time=").concat(a))},children:"Request this rental"}),(0,n.jsx)("button",{type:"button",className:"btn btn-ghost rentals-clear",onClick:()=>{y(null)},children:"Change selection"})]})]}):(0,n.jsx)("div",{className:"rentals-sidebar-empty",children:(0,n.jsx)("p",{className:"text-muted",children:j?"Choose a time slot for your selected date.":"Select a date on the calendar above."})})]})]})]})]})]})]})}},5850:function(e,t,a){"use strict";a.r(t),a.d(t,{EditableContent:function(){return r}});var n=a(7437),s=a(2265),l=a(7444);function r(e){var t;let{contentKey:a,fallback:r="",displayValue:i,as:c="span",className:o,style:d}=e,{content:u,setContentKey:m,editMode:h,isAdmin:b}=(0,l.e)(),[p,x]=(0,s.useState)(!1),[j,f]=(0,s.useState)(""),v=null!==(t=u[a])&&void 0!==t?t:r,y=void 0!==i?i:v,g=h&&b,N=e=>{g&&(e&&(e.preventDefault(),e.stopPropagation()),f(v),x(!0))},w=async()=>{try{await m(a,j),setTimeout(()=>x(!1),0)}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[g?(0,n.jsx)(c,{role:"button",tabIndex:0,className:o?"".concat(o," editable-content editable-content--on"):"editable-content editable-content--on",style:d,onClick:e=>N(e),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),N())},title:"Click to edit",children:y}):(0,n.jsx)(c,{className:o,style:d,children:y}),p&&(0,n.jsx)("div",{className:"editable-content-modal-backdrop",role:"dialog","aria-modal":"true","aria-label":"Edit content",onClick:e=>{e.preventDefault(),e.stopPropagation(),e.target===e.currentTarget&&setTimeout(()=>x(!1),0)},children:(0,n.jsxs)("div",{className:"editable-content-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("label",{htmlFor:"editable-content-input",className:"editable-content-modal-label",children:["Edit: ",a]}),(0,n.jsx)("textarea",{id:"editable-content-input",className:"form-input editable-content-modal-input",value:j,onChange:e=>f(e.target.value),rows:4,autoFocus:!0}),(0,n.jsxs)("div",{className:"editable-content-modal-actions",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),w()},children:"Save"}),(0,n.jsx)("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),setTimeout(()=>x(!1),0)},children:"Cancel"})]})]})})]})}},7444:function(e,t,a){"use strict";a.d(t,{_:function(){return h},e:function(){return d}});var n=a(7437),s=a(2265),l=a(605);let r=["oswald","playfair"],i=["barlow","inter"];function c(e){let{themeDisplayFont:t,themeBodyFont:a}=e;return(0,s.useEffect)(()=>{var e,n;let s=(e=t||"",r.includes(e))?t:"oswald",l=(n=a||"",i.includes(n))?a:"barlow",c=document.documentElement;c.style.setProperty("--font-display-var","var(--font-display-".concat(s,")")),c.style.setProperty("--font-sans-var","var(--font-sans-".concat(l,")"))},[t,a]),null}let o=(0,s.createContext)(null);function d(){let e=(0,s.useContext)(o);if(!e)throw Error("useSiteContent must be used within SiteContentProvider");return e}let u=[{value:"oswald",label:"Oswald (sports / headlines)"},{value:"playfair",label:"Playfair Display (classic serif)"}],m=[{value:"barlow",label:"Barlow (clean geometric)"},{value:"inter",label:"Inter (neutral sans)"}];function h(e){var t,a,r;let{children:i}=e,{data:d,status:h}=(0,l.useSession)(),[b,p]=(0,s.useState)({}),[x,j]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),y=(null==d?void 0:null===(t=d.user)||void 0===t?void 0:t.role)==="admin",g=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/site-content"),t=await e.json().catch(()=>({}));e.ok&&"object"==typeof t&&null!==t&&p(t)}catch(e){}},[]);(0,s.useEffect)(()=>{g()},[g]),(0,s.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"e"===e.key&&(e.preventDefault(),y&&j(e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[y]);let N=(0,s.useCallback)(async(e,t)=>{try{let a=await fetch("/api/admin/site-content",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,value:t})}),n=await a.json().catch(()=>({}));if(!a.ok)throw Error(n.error||"Failed to update");"object"==typeof n&&null!==n&&p(n)}catch(e){throw e}},[]);return(0,n.jsxs)(o.Provider,{value:{content:b,setContentKey:N,editMode:x,setEditMode:j,isAdmin:y,refresh:g},children:[(0,n.jsx)(c,{themeDisplayFont:b.theme_display_font,themeBodyFont:b.theme_body_font}),i,"authenticated"===h&&y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"edit-site-fab-group",children:[x&&(0,n.jsx)("button",{type:"button",className:"edit-site-fab edit-site-fab--theme",onClick:()=>v(!0),title:"Edit theme & fonts","aria-label":"Edit theme and fonts",children:"Theme"}),(0,n.jsx)("button",{type:"button",className:"edit-site-fab",onClick:()=>j(e=>!e),title:x?"Exit edit mode (Ctrl+E)":"Edit site (Ctrl+E)","aria-label":x?"Exit edit mode":"Edit site",children:x?"Done":"Edit site"})]}),f&&(0,n.jsx)("div",{className:"editable-content-modal-backdrop",role:"dialog","aria-modal":"true","aria-label":"Theme & fonts",onClick:e=>e.target===e.currentTarget&&v(!1),children:(0,n.jsxs)("div",{className:"editable-content-modal theme-editor-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h2",{style:{marginTop:0,marginBottom:"1rem",fontSize:"1.25rem"},children:"Theme & fonts"}),(0,n.jsx)("p",{className:"text-muted",style:{fontSize:"0.9rem",marginBottom:"1.25rem"},children:"Change display (headings) and body fonts. Changes apply across the site."}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("label",{className:"editable-content-modal-label",children:["Display font (headings)",(0,n.jsx)("select",{className:"form-input",style:{marginTop:"0.35rem",width:"100%"},value:null!==(a=b.theme_display_font)&&void 0!==a?a:"oswald",onChange:e=>N("theme_display_font",e.target.value),children:u.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,n.jsxs)("label",{className:"editable-content-modal-label",children:["Body font",(0,n.jsx)("select",{className:"form-input",style:{marginTop:"0.35rem",width:"100%"},value:null!==(r=b.theme_body_font)&&void 0!==r?r:"barlow",onChange:e=>N("theme_body_font",e.target.value),children:m.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,n.jsx)("div",{className:"editable-content-modal-actions",style:{marginTop:"1.5rem"},children:(0,n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>v(!1),children:"Close"})})]})})]})]})}},9376:function(e,t,a){"use strict";var n=a(5475);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[605,971,117,744],function(){return e(e.s=3222)}),_N_E=e.O()}]);