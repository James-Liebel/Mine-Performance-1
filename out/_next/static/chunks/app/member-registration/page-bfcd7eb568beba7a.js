(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{2263:function(e,n,i){Promise.resolve().then(i.bind(i,4610))},4610:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return h}});var t=i(7437),a=i(2265),s=i(7648),l=i(605),r=i(272);function o(e){let{memberships:n,onSelect:i,isLoggedIn:a=!1}=e;return(0,t.jsx)("div",{className:"training-options-grid",children:n.map(e=>{var n,s,l,r,o,c,d,m,p,h;let u=(null===(d=(c=e).stripePaymentLink)||void 0===d?void 0:d.trim())||(1===c.options.length&&(null===(m=c.options[0].stripePaymentLink)||void 0===m?void 0:m.trim())&&null!==(h=null===(p=c.options[0].stripePaymentLink)||void 0===p?void 0:p.trim())&&void 0!==h?h:null),b=a&&u;return(0,t.jsxs)("article",{id:"membership-".concat(e.id),className:"training-option-card card card-elevated",children:[(0,t.jsxs)("div",{className:"training-option-header",children:[(0,t.jsx)("h3",{children:e.name}),(0,t.jsx)("span",{className:"training-option-badge training-option-badge--".concat(e.category),children:"adult"===e.category?"Adult":"youth"===e.category?"Youth":"Remote"})]}),(e.description||(null===(n=e.daysAvailable)||void 0===n?void 0:n.length)||e.timesAvailable)&&(0,t.jsxs)("p",{className:"training-option-schedule text-muted",style:{fontSize:"0.85rem",marginBottom:"0.75rem"},children:[e.description&&(0,t.jsx)("span",{style:{display:"block",marginBottom:"0.25rem"},children:e.description}),((null===(s=e.daysAvailable)||void 0===s?void 0:s.length)||e.timesAvailable)&&(0,t.jsxs)("span",{children:[(null===(l=e.daysAvailable)||void 0===l?void 0:l.length)?e.daysAvailable.join(", "):"",(null===(r=e.daysAvailable)||void 0===r?void 0:r.length)&&e.timesAvailable?" \xb7 ":"",null!==(o=e.timesAvailable)&&void 0!==o?o:""]})]}),(0,t.jsx)("div",{className:"training-option-prices",children:e.options.map(e=>{var n;return(0,t.jsxs)("div",{className:"training-option-row",children:[(0,t.jsx)("span",{className:"training-option-days",children:e.label}),(0,t.jsx)("span",{className:"training-option-amount",children:(n=e.priceCents,"$".concat((n/100).toFixed(0)))})]},e.id)})}),(0,t.jsx)("p",{className:"training-option-billing",children:e.billingLabel}),(0,t.jsxs)("div",{className:"training-option-cta-row",style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",alignItems:"center"},children:[(0,t.jsx)("button",{type:"button",className:"btn btn-primary training-option-cta",onClick:()=>i(e),children:"Choose plan"}),b&&(0,t.jsx)("a",{href:null!=u?u:"#",target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:"Buy now"})]})]},e.id)})})}function c(e){return"$".concat((e/100).toFixed(0))}function d(e){var n,i,l;let{membership:r,selectedOption:o,onSelectOption:d,onClose:m,isLoggedIn:p=!1,loginCallbackUrl:h="/member-registration"}=e,[u,b]=(0,a.useState)(!1),g=o?"/contact?membership=".concat(encodeURIComponent(r.id),"&days=").concat(o.daysPerWeek):"/contact",x=(null==o?void 0:null===(n=o.stripePaymentLink)||void 0===n?void 0:n.trim())||(null===(i=r.stripePaymentLink)||void 0===i?void 0:i.trim())||"",j=!!x,y=j&&!!o,v="/login?callbackUrl=".concat(encodeURIComponent(h));return(0,t.jsx)("div",{className:"modal-backdrop",onClick:e=>{e.target===e.currentTarget&&(b(!1),m())},"aria-modal":"true",role:"dialog",children:(0,t.jsxs)("div",{className:"modal card",children:[(0,t.jsxs)("header",{className:"modal-header",children:[(0,t.jsx)("h2",{children:r.name}),(0,t.jsx)("button",{type:"button",className:"icon-button","aria-label":"Close",onClick:()=>{b(!1),m()},children:"✕"})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsx)("p",{className:"modal-step-title",children:"1. Select days per week"}),(0,t.jsxs)("p",{className:"text-muted",style:{marginTop:0,marginBottom:"0.75rem",fontSize:"0.9rem"},children:["Memberships are ",r.billingLabel,". Pick your option below."]}),(0,t.jsx)("div",{className:"option-list",role:"radiogroup","aria-label":"Days per week",children:r.options.map(e=>(0,t.jsxs)("label",{className:"option-row",children:[(0,t.jsx)("input",{type:"radio",name:"membership-days",value:e.daysPerWeek,checked:(null==o?void 0:o.daysPerWeek)===e.daysPerWeek,onChange:()=>d(e)}),(0,t.jsxs)("span",{className:"option-main",children:[(0,t.jsx)("span",{className:"option-label",children:e.label}),(0,t.jsxs)("span",{className:"option-price",children:[c(e.priceCents)," ",(0,t.jsxs)("span",{className:"text-muted",children:["(",r.billingLabel,")"]})]})]})]},e.id))}),(0,t.jsx)("p",{className:"modal-step-title",children:"2. Pay"}),o?(0,t.jsxs)("p",{className:"summary",style:{marginTop:0,marginBottom:"0.5rem"},children:[(0,t.jsx)("strong",{children:o.label})," — ",c(o.priceCents)," ",r.billingLabel,"."]}):(0,t.jsx)("p",{className:"text-muted",style:{fontSize:"0.9rem",marginTop:0,marginBottom:"0.5rem"},children:"Select an option above to see price and pay."}),!p&&(0,t.jsxs)("p",{className:"text-muted",style:{fontSize:"0.9rem",marginTop:"0.25rem"},children:["You must be signed in to purchase. ",(0,t.jsx)(s.default,{href:v,className:"link",children:"Sign in"})," to continue."]})]}),(0,t.jsx)("footer",{className:"modal-footer",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"modal-confirm-summary",style:{width:"100%",marginBottom:"0.75rem",padding:"0.75rem",background:"var(--surface-elevated)",borderRadius:"var(--radius)",fontSize:"0.9rem"},children:[(0,t.jsx)("strong",{children:"Confirm purchase"}),(0,t.jsxs)("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)"},children:[r.name," — ",null!==(l=null==o?void 0:o.label)&&void 0!==l?l:""," — ",o?c(o.priceCents):""," ",r.billingLabel,". You'll be taken to Stripe to complete payment."]})]}),(0,t.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{x&&(window.open(x,"_blank","noopener,noreferrer"),b(!1),m())},children:"Continue to Stripe"}),(0,t.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{b(!1)},children:"Back"})]}):(0,t.jsxs)(t.Fragment,{children:[p?j?(0,t.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!o,onClick:()=>{y&&p&&b(!0)},title:o?void 0:"Select days per week above first",children:o?"Continue to checkout":"Select days per week first"}):(0,t.jsx)(s.default,{href:g,className:"btn btn-primary",children:"Continue to contact"}):(0,t.jsx)(s.default,{href:v,className:"btn btn-primary",children:"Sign in to continue"}),(0,t.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:m,children:"Close"})]})})]})})}var m=i(5850),p=i(443);function h(){let{data:e}=(0,l.useSession)(),n=!!(null==e?void 0:e.user),[i,c]=(0,a.useState)(r.gA),[h,u]=(0,a.useState)({open:!1,membership:null,selectedOption:null});(0,a.useEffect)(()=>{fetch("/api/memberships").then(e=>e.json()).then(e=>c(Array.isArray(e)?e:r.gA)).catch(()=>c(r.gA))},[]);let[b,g]=(0,a.useState)("all"),x=[...i.filter(e=>"adult"===e.category),...i.filter(e=>"youth"===e.category),...i.filter(e=>"remote"===e.category)],j="all"===b?x:i.filter(e=>e.category===b);return(0,t.jsxs)("div",{className:"page page-training-options",children:[(0,t.jsx)("section",{className:"hero hero-dark hero-compact training-options-hero",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h1",{children:(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_heading",fallback:"Training options",as:"span"})}),(0,t.jsx)("p",{className:"hero-subtitle training-options-subtitle",children:(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_subtitle",fallback:"Billed every 4 weeks. Youth = under 10U \xb7 Adults = 10U+.",as:"span"})})]})}),(0,t.jsx)("div",{className:"container training-options-container training-options-with-sidebar",children:(0,t.jsxs)("div",{className:"training-options-layout",children:[(0,t.jsxs)("aside",{className:"training-options-sidebar","aria-label":"Filter plans",children:[(0,t.jsx)("section",{className:"credits-explainer-section credits-explainer-section--compact",children:(0,t.jsx)(p.Y,{compact:!0})}),(0,t.jsxs)("div",{className:"training-options-filter-block",children:[(0,t.jsx)("span",{className:"training-options-filter-label",children:"Show"}),(0,t.jsx)("div",{className:"training-options-filter-pills",role:"group","aria-label":"Plan category",children:["all","adult","youth","remote"].map(e=>(0,t.jsx)("button",{type:"button",className:"training-options-pill ".concat(b===e?"training-options-pill--active":""),onClick:()=>g(e),"aria-pressed":b===e,children:"all"===e?"All":"adult"===e?"Adult":"youth"===e?"Youth":"Remote"},e))})]})]}),(0,t.jsxs)("main",{className:"training-options-main",children:[(0,t.jsx)("h2",{className:"training-options-all-plans-heading",children:(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_listings_intro",fallback:"Compare plans — click a plan for details and pricing.",as:"span"})}),(0,t.jsxs)("section",{className:"training-options-section training-options-all-plans","aria-labelledby":"all-plans-heading",children:[(0,t.jsx)("p",{id:"all-plans-heading",className:"visually-hidden",children:"All membership plans"}),(0,t.jsx)(o,{memberships:j,onSelect:e=>{var n,i;let t=null!==(i=null!==(n=e.options.find(e=>2===e.daysPerWeek))&&void 0!==n?n:e.options[0])&&void 0!==i?i:null;u({open:!0,membership:e,selectedOption:t})},isLoggedIn:n})]}),(0,t.jsxs)("p",{className:"training-options-help text-muted",children:[(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_help_before",fallback:"Not sure which plan fits? ",as:"span"}),(0,t.jsx)(s.default,{href:"/contact",children:"Contact us"}),(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_help_after",fallback:" and we'll help you choose.",as:"span"})]}),(0,t.jsx)("p",{className:"training-options-spt-footnote text-muted",style:{marginTop:"1rem",fontSize:"0.85rem"},children:(0,t.jsx)(m.EditableContent,{contentKey:"member_reg_spt_definition",fallback:"Strength = Sports Performance Training (strength, movement, conditioning).",as:"span"})})]})]})}),h.open&&h.membership&&(0,t.jsx)(d,{membership:h.membership,selectedOption:h.selectedOption,onSelectOption:e=>{u(n=>n.membership?{...n,selectedOption:e}:n)},onClose:()=>{u({open:!1,membership:null,selectedOption:null})},isLoggedIn:n,loginCallbackUrl:"/member-registration"})]})}},443:function(e,n,i){"use strict";i.d(n,{Y:function(){return s}});var t=i(7437);let a=["Credits are used to book events and sessions (camps, clinics, training slots).","Your membership may include a set number of credits per billing period.","When you book an event that uses credits, the cost is deducted from your balance.","You can see your balance in your profile and when booking."];function s(e){let{balance:n,compact:i=!1,className:s=""}=e;return(0,t.jsxs)("section",{className:"credits-explainer ".concat(i?"credits-explainer--compact":""," ").concat(s).trim(),"aria-labelledby":"credits-heading",children:[(0,t.jsx)("h2",{id:"credits-heading",className:"credits-explainer-heading",children:null!=n?"Your credits":"How credits work"}),null!=n&&(0,t.jsxs)("div",{className:"credits-balance",children:[(0,t.jsx)("span",{className:"credits-balance-value",children:n}),(0,t.jsx)("span",{className:"credits-balance-label",children:"credits available"})]}),(0,t.jsx)("ul",{className:"credits-explainer-list",children:a.map((e,n)=>(0,t.jsx)("li",{children:e},n))})]})}},7648:function(e,n,i){"use strict";i.d(n,{default:function(){return a.a}});var t=i(2972),a=i.n(t)}},function(e){e.O(0,[972,605,348,971,117,744],function(){return e(e.s=2263)}),_N_E=e.O()}]);